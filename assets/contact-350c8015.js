import{r as m,a as i,s as t,j as e}from"./index-f6bb00df.js";import{B as F,a as j,b as R}from"./index.esm-88a9f874.js";import{m as n}from"./motion-minimal-694374a5.js";import{A as g}from"./index-2c2a79a4.js";import"./iconBase-1096e3e0.js";const I="/assets/contact-311f8f0d.png",z=({})=>{const[s,v]=m.useState(!1),[l,o]=m.useState(0),[a,x]=m.useState({name:!1,message:!1,email:!1,notEmail:!1}),c=m.useRef(null),y={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeIn",when:"beforeChildren",staggerChildren:.6}}},C=async h=>{var w;h.preventDefault();const{name:r,message:E,email:p}=c.current,b=r.value.trim()==="",N=E.value.trim()==="",u=p.value.trim()==="",S=!u&&!p.value.trim().match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);if(x({name:b,message:N,email:u,notEmail:S}),b||N||u||S)return!1;v(!0);try{const f=await fetch("https://personal-ken.vercel.app/api/v1/mailer/send",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://kenneth-andales.github.io"},body:JSON.stringify({name:r.value.trim(),fromEmail:p.value.trim(),message:E.value.trim(),subject:"Portfolio Website"})});o(f.status),f.status===200&&((w=c.current)==null||w.reset())}catch{o(500)}finally{v(!1),setTimeout(()=>{o(0)},5e3)}},d=({field:h,customMessage:r})=>e(n.small,{initial:{y:-10,opacity:0},exit:{y:-10,opacity:0},animate:{y:0,opacity:1},children:r||`${h} is Required!`});return i(n.section,{id:"contact",variants:y,initial:"hidden",whileInView:"visible",className:t.padding,children:[e("h2",{className:t.h2,children:"Contact"}),i("div",{className:t.container,children:[e(n.div,{variants:y,className:t.image,children:e("img",{src:I,alt:"Contact image"})}),e("div",{children:i("form",{ref:c,onSubmit:C,className:t.form,children:[i("div",{children:[e("label",{htmlFor:"email",children:"Name"}),e("input",{name:"name",type:"text",className:a.name?"error":"",placeholder:"john doe"}),e(g,{children:a.name&&e(d,{field:"Name"})})]}),i("div",{children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",className:a.email||a.notEmail?"error":"",name:"email",placeholder:"johndoe@email.com"}),e(g,{children:(a.email||a.notEmail)&&e(d,{field:"Email",customMessage:a.notEmail?"Not a valid email!":null})})]}),i("div",{children:[e("label",{htmlFor:"",children:"Message"}),e("textarea",{id:"",placeholder:"greetings",className:a.message?"error":"",name:"message",cols:30,rows:10}),e(g,{children:a.message&&e(d,{field:"Message"})})]}),i("button",{className:t.submit,type:"submit",children:[e(n.div,{transition:{duration:2,ease:"easeInOut",times:[0,.5,1],repeat:s?1/0:0},animate:{x:s?[-300,300]:0,rotate:s?[45,45]:0,scale:s?[1.5,1.5]:1},children:l===0?e(F,{size:20}):l===200?e(j,{size:20}):e(R,{size:20})}),e(n.span,{animate:{opacity:s?0:1},children:l===0?"Send Email":l===200?"Email Sent":"Email Not Sent"})]})]})})]})]})};export{z as default};
