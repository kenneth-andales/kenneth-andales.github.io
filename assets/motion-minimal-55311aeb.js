import{r as s,o as L,L as T,q as U,t as R,u as E,w as $,i as S,x as z,y as N,z as I,A as D,B as G,C as q,D as J,E as K,G as X,I as Y,J as Q,K as Z}from"./index-5dbaacb8.js";const B=s.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),M=s.createContext({}),F=s.createContext(null),A=L?s.useLayoutEffect:s.useEffect;function p(t,e,o,n){const{visualElement:a}=s.useContext(M),i=s.useContext(T),r=s.useContext(F),l=s.useContext(B).reducedMotion,m=s.useRef();n=n||i.renderer,!m.current&&n&&(m.current=n(t,{visualState:e,parent:a,props:o,presenceContext:r,blockInitialAnimation:r?r.initial===!1:!1,reducedMotionConfig:l}));const u=m.current;return s.useInsertionEffect(()=>{u&&u.update(o,r)}),A(()=>{u&&u.render()}),s.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?A:s.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function tt(t,e,o){return s.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),o&&(typeof o=="function"?o(n):U(o)&&(o.current=n))},[e])}function et(t,e){if(R(t)){const{initial:o,animate:n}=t;return{initial:o===!1||E(o)?o:void 0,animate:E(n)?n:void 0}}return t.inherit!==!1?e:{}}function nt(t){const{initial:e,animate:o}=et(t,s.useContext(M));return s.useMemo(()=>({initial:e,animate:o}),[w(e),w(o)])}function w(t){return Array.isArray(t)?t.join(" "):t}function H(t){const e=s.useRef(null);return e.current===null&&(e.current=t()),e.current}function ot(){return H(()=>{})}const at=s.createContext({}),st=s.createContext({}),it=Symbol.for("motionComponentSymbol");function rt({preloadedFeatures:t,createVisualElement:e,useRender:o,useVisualState:n,Component:a}){t&&$(t);function i(l,m){let u;const d={...s.useContext(B),...l,layoutId:ut(l)},{isStatic:f}=d,c=nt(l),g=f?void 0:ot(),C=n(l,f);if(!f&&L){c.visualElement=p(a,C,d,e);const V=s.useContext(st),v=s.useContext(T).strict;c.visualElement&&(u=c.visualElement.loadFeatures(d,v,t,g,V))}return s.createElement(M.Provider,{value:c},u&&c.visualElement?s.createElement(u,{visualElement:c.visualElement,...d}):null,o(a,l,g,tt(C,c.visualElement,m),C,f,c.visualElement))}const r=s.forwardRef(i);return r[it]=a,r}function ut({layoutId:t}){const e=s.useContext(at).id;return e&&t!==void 0?e+"-"+t:t}function ct(t){function e(n,a={}){return rt(t(n,a))}if(typeof Proxy>"u")return e;const o=new Map;return new Proxy(e,{get:(n,a)=>(o.has(a)||o.set(a,e(a)),o.get(a))})}const P=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W(t,e,o){for(const n in e)!S(e[n])&&!z(n,o)&&(t[n]=e[n])}function lt({transformTemplate:t},e,o){return s.useMemo(()=>{const n=P();return N(n,e,{enableHardwareAcceleration:!o},t),Object.assign({},n.vars,n.style)},[e])}function ft(t,e,o){const n=t.style||{},a={};return W(a,n,t),Object.assign(a,lt(t,e,o)),t.transformValues?t.transformValues(a):a}function dt(t,e,o){const n={},a=ft(t,e,o);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const mt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||mt.has(t)}let j=t=>!h(t);function gt(t){t&&(j=e=>e.startsWith("on")?!h(e):t(e))}try{gt(require("@emotion/is-prop-valid").default)}catch{}function Ct(t,e,o){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(j(a)||o===!0&&h(a)||!e&&!h(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const O=()=>({...P(),attrs:{}});function yt(t,e,o,n){const a=s.useMemo(()=>{const i=O();return I(i,e,{enableHardwareAcceleration:!1},D(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};W(i,t.style,t),a.style={...i,...a.style}}return a}function xt(t=!1){return(o,n,a,i,{latestValues:r},l)=>{const u=(G(o)?yt:dt)(n,r,l,o),f={...Ct(n,typeof o=="string",t),...u,ref:i},{children:c}=n,g=s.useMemo(()=>S(c)?c.get():c,[c]);return a&&(f["data-projection-id"]=a),s.createElement(o,{...f,children:g})}}function Vt(t){const e=S(t)?t.get():t;return q(e)?e.toValue():e}function ht({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:o},n,a,i){const r={latestValues:Mt(n,a,i,t),renderState:e()};return o&&(r.mount=l=>o(n,l,r)),r}const _=t=>(e,o)=>{const n=s.useContext(M),a=s.useContext(F),i=()=>ht(t,e,n,a);return o?i():H(i)};function Mt(t,e,o,n){const a={},i=n(t,{});for(const c in i)a[c]=Vt(i[c]);let{initial:r,animate:l}=t;const m=R(t),u=J(t);e&&u&&!m&&t.inherit!==!1&&(r===void 0&&(r=e.initial),l===void 0&&(l=e.animate));let d=o?o.initial===!1:!1;d=d||r===!1;const f=d?l:r;return f&&typeof f!="boolean"&&!K(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const C=X(t,g);if(!C)return;const{transitionEnd:V,transition:v,...b}=C;for(const x in b){let y=b[x];if(Array.isArray(y)){const k=d?y.length-1:0;y=y[k]}y!==null&&(a[x]=y)}for(const x in V)a[x]=V[x]}),a}const St={useVisualState:_({scrapeMotionValuesFromProps:Y,createRenderState:O,onMount:(t,e,{renderState:o,latestValues:n})=>{try{o.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}I(o,n,{enableHardwareAcceleration:!1},D(e.tagName),t.transformTemplate),Q(e,o)}})},Pt={useVisualState:_({scrapeMotionValuesFromProps:Z,createRenderState:P})};function vt(t,{forwardMotionProps:e=!1},o,n){return{...G(t)?St:Pt,preloadedFeatures:o,useRender:xt(e),createVisualElement:n,Component:t}}const Et=ct(vt);export{at as L,F as P,H as a,Et as m,A as u};
