import{i as k,r as ee,e as te,f as ne,h as U,j as ae,k as se,l as re,n as ie,o as oe,p as ue,V as le,q as ce,t as fe,S as me,H as ge,v as N,x as pe,y as he,z as ye,G as de,B as Se}from"./env.config-Cd9iWq8J.js";const Ae=(e,t,n)=>{const a=t-e;return((n-e)%a+a)%a+e};function X(e,t){return k(e)?e[Ae(0,e.length,t)]:e}function z(e){return typeof e=="object"&&!Array.isArray(e)}function Y(e,t,n,a){return typeof e=="string"&&z(t)?ee(e,n,a):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Ee(e,t,n){return e*(t+1)}function q(e,t,n,a){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:a.get(t)??e}function Ve(e,t,n){for(let a=0;a<e.length;a++){const r=e[a];r.at>t&&r.at<n&&(ne(e,r),a--)}}function ve(e,t,n,a,r,i){Ve(e,r,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:te(r,i,a[s]),easing:X(n,s)})}function be(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function De(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const xe="easeInOut";function Me(e,{defaultTransition:t={},...n}={},a,r){const i=t.duration||.3,s=new Map,l=new Map,m={},h=new Map;let b=0,u=0,F=0;for(let D=0;D<e.length;D++){const g=e[D];if(typeof g=="string"){h.set(g,u);continue}else if(!Array.isArray(g)){h.set(g.name,q(u,g.at,b,h));continue}let[v,p,c={}]=g;c.at!==void 0&&(u=q(u,c.at,b,h));let f=0;const x=(y,d,E,M=0,T=0)=>{const o=Te(y),{delay:B=0,times:S=ae(o),type:L="keyframes",repeat:G,repeatType:We,repeatDelay:He=0,...$}=d;let{ease:V=t.ease||"easeOut",duration:A}=d;const C=typeof B=="function"?B(M,T):B,W=o.length,H=ie(L)?L:r==null?void 0:r[L];if(W<=2&&H){let I=100;if(W===2&&we(o)){const O=o[1]-o[0];I=Math.abs(O)}const K={...$};A!==void 0&&(K.duration=oe(A));const j=se(K,I,H);V=j.ease,A=j.duration}A??(A=i);const P=u+C;S.length===1&&S[0]===0&&(S[1]=1);const R=S.length-o.length;if(R>0&&re(S,R),o.length===1&&o.unshift(null),G){A=Ee(A,G);const I=[...o],K=[...S];V=Array.isArray(V)?[...V]:[V];const j=[...V];for(let O=0;O<G;O++){o.push(...I);for(let w=0;w<I.length;w++)S.push(K[w]+(O+1)),V.push(w===0?"linear":X(j,w-1))}be(S,G)}const _=P+A;ve(E,o,V,S,P,_),f=Math.max(C+A,f),F=Math.max(_,F)};if(U(v)){const y=J(v,l);x(p,c,Q("default",y))}else{const y=Y(v,p,a,m),d=y.length;for(let E=0;E<d;E++){p=p,c=c;const M=y[E],T=J(M,l);for(const o in p)x(p[o],Ie(c,o),Q(o,T),E,d)}}b=u,u+=f}return l.forEach((D,g)=>{for(const v in D){const p=D[v];p.sort(De);const c=[],f=[],x=[];for(let d=0;d<p.length;d++){const{at:E,value:M,easing:T}=p[d];c.push(M),f.push(ue(0,F,E)),x.push(T||"easeOut")}f[0]!==0&&(f.unshift(0),c.unshift(c[0]),x.unshift(xe)),f[f.length-1]!==1&&(f.push(1),c.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const y=s.get(g);y.keyframes[v]=c,y.transition[v]={...t,duration:F,ease:x,times:f,...n}}}),s}function J(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Q(e,t){return t[e]||(t[e]=[]),t[e]}function Te(e){return Array.isArray(e)?e:[e]}function Ie(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Oe=e=>typeof e=="number",we=e=>e.every(Oe);function Fe(e,t){return e in t}class Ge extends le{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Fe(n,t)){const a=t[n];if(typeof a=="string"||typeof a=="number")return a}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ce()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Ke(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=fe(e)?new me(t):new ge(t);n.mount(e),N.set(e,n)}function je(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ge(t);n.mount(e),N.set(e,n)}function Ne(e,t){return U(e)||typeof e=="number"||typeof e=="string"&&!z(t)}function Z(e,t,n,a){const r=[];if(Ne(e,t))r.push(pe(e,z(t)&&t.default||t,n&&(n.default||n)));else{const i=Y(e,t,a),s=i.length;for(let l=0;l<s;l++){const m=i[l],h=m instanceof Element?Ke:je;N.has(m)||h(m);const b=N.get(m),u={...n};"delay"in u&&typeof u.delay=="function"&&(u.delay=u.delay(l,s)),r.push(...he(b,{...t,transition:u},{}))}}return r}function Be(e,t,n){const a=[];return Me(e,t,n,{spring:ye}).forEach(({keyframes:i,transition:s},l)=>{a.push(...Z(l,i,s))}),a}function Le(e){return Array.isArray(e)&&e.some(Array.isArray)}function ze(e){function t(n,a,r){let i=[];Le(n)?i=Be(n,a,e):i=Z(n,a,r,e);const s=new de(i);return e&&e.animations.push(s),s}return t}const Re=ze();function Ce(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function _e(e=.1,{startDelay:t=0,from:n=0,ease:a}={}){return(r,i)=>{const s=typeof n=="number"?n:Ce(n,i),l=Math.abs(s-r);let m=e*l;if(a){const h=i*e;m=Se(a)(m/h)*h}return t+m}}export{Re as a,ze as c,_e as s};
