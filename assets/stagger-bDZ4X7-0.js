import{ae as q,ab as ee,A as te,U as ne,d as Q,af as ae,ag as se,ah as re,ai as ie,E as oe,G as ue,aj as le,I as ce,Z as fe,ac as me,ad as ge,ak as N,a8 as pe,w as de,al as he,am as ye,an as Se}from"./SVGVisualElement-s13Kyr7I.js";const Ae=(e,t,n)=>{const a=t-e;return((n-e)%a+a)%a+e};function X(e,t){return q(e)?e[Ae(0,e.length,t)]:e}function C(e){return typeof e=="object"&&!Array.isArray(e)}function Y(e,t,n,a){return typeof e=="string"&&C(t)?ee(e,n,a):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Ee(e,t,n){return e*(t+1)}function Z(e,t,n,a){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:a.get(t)??e}function Ve(e,t,n){for(let a=0;a<e.length;a++){const r=e[a];r.at>t&&r.at<n&&(ne(e,r),a--)}}function ve(e,t,n,a,r,i){Ve(e,r,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:te(r,i,a[s]),easing:X(n,s)})}function be(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function De(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const xe="easeInOut";function Ie(e,{defaultTransition:t={},...n}={},a,r){const i=t.duration||.3,s=new Map,l=new Map,m={},d=new Map;let b=0,u=0,F=0;for(let D=0;D<e.length;D++){const g=e[D];if(typeof g=="string"){d.set(g,u);continue}else if(!Array.isArray(g)){d.set(g.name,Z(u,g.at,b,d));continue}let[v,p,c={}]=g;c.at!==void 0&&(u=Z(u,c.at,b,d));let f=0;const x=(h,y,E,I=0,M=0)=>{const o=Me(h),{delay:L=0,times:S=ae(o),type:B="keyframes",repeat:G,repeatType:ze,repeatDelay:Pe=0,...k}=y;let{ease:V=t.ease||"easeOut",duration:A}=y;const W=typeof L=="function"?L(I,M):L,z=o.length,P=ie(B)?B:r==null?void 0:r[B];if(z<=2&&P){let T=100;if(z===2&&we(o)){const O=o[1]-o[0];T=Math.abs(O)}const K={...k};A!==void 0&&(K.duration=oe(A));const j=se(K,T,P);V=j.ease,A=j.duration}A??(A=i);const R=u+W;S.length===1&&S[0]===0&&(S[1]=1);const H=S.length-o.length;if(H>0&&re(S,H),o.length===1&&o.unshift(null),G){A=Ee(A,G);const T=[...o],K=[...S];V=Array.isArray(V)?[...V]:[V];const j=[...V];for(let O=0;O<G;O++){o.push(...T);for(let w=0;w<T.length;w++)S.push(K[w]+(O+1)),V.push(w===0?"linear":X(j,w-1))}be(S,G)}const U=R+A;ve(E,o,V,S,R,U),f=Math.max(W+A,f),F=Math.max(U,F)};if(Q(v)){const h=_(v,l);x(p,c,J("default",h))}else{const h=Y(v,p,a,m),y=h.length;for(let E=0;E<y;E++){p=p,c=c;const I=h[E],M=_(I,l);for(const o in p)x(p[o],Te(c,o),J(o,M),E,y)}}b=u,u+=f}return l.forEach((D,g)=>{for(const v in D){const p=D[v];p.sort(De);const c=[],f=[],x=[];for(let y=0;y<p.length;y++){const{at:E,value:I,easing:M}=p[y];c.push(I),f.push(ue(0,F,E)),x.push(M||"easeOut")}f[0]!==0&&(f.unshift(0),c.unshift(c[0]),x.unshift(xe)),f[f.length-1]!==1&&(f.push(1),c.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const h=s.get(g);h.keyframes[v]=c,h.transition[v]={...t,duration:F,ease:x,times:f,...n}}}),s}function _(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function J(e,t){return t[e]||(t[e]=[]),t[e]}function Me(e){return Array.isArray(e)?e:[e]}function Te(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Oe=e=>typeof e=="number",we=e=>e.every(Oe);function Fe(e,t){return e in t}class Ge extends le{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Fe(n,t)){const a=t[n];if(typeof a=="string"||typeof a=="number")return a}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return ce()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Ke(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=fe(e)?new me(t):new ge(t);n.mount(e),N.set(e,n)}function je(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Ge(t);n.mount(e),N.set(e,n)}function Ne(e,t){return Q(e)||typeof e=="number"||typeof e=="string"&&!C(t)}function $(e,t,n,a){const r=[];if(Ne(e,t))r.push(pe(e,C(t)&&t.default||t,n&&(n.default||n)));else{const i=Y(e,t,a),s=i.length;for(let l=0;l<s;l++){const m=i[l],d=m instanceof Element?Ke:je;N.has(m)||d(m);const b=N.get(m),u={...n};"delay"in u&&typeof u.delay=="function"&&(u.delay=u.delay(l,s)),r.push(...de(b,{...t,transition:u},{}))}}return r}function Le(e,t,n){const a=[];return Ie(e,t,n,{spring:he}).forEach(({keyframes:i,transition:s},l)=>{a.push(...$(l,i,s))}),a}function Be(e){return Array.isArray(e)&&e.some(Array.isArray)}function Ce(e){function t(n,a,r){let i=[];Be(n)?i=Le(n,a,e):i=$(n,a,r,e);const s=new ye(i);return e&&e.animations.push(s),s}return t}const He=Ce();function We(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function Ue(e=.1,{startDelay:t=0,from:n=0,ease:a}={}){return(r,i)=>{const s=typeof n=="number"?n:We(n,i),l=Math.abs(s-r);let m=e*l;if(a){const d=i*e;m=Se(a)(m/d)*d}return t+m}}export{He as a,Ce as c,Ue as s};
